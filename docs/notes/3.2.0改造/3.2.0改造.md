# 3.2.0改造

## 目标

仿尘白启动器改造

- [ ] 自动使用最新活动封面

## 信息收集阶段

官网: <https://www.cbjq.com/>

F12查看网络请求，抓取得到三个图片: 
1. kv.jpg (1920x929) (模糊)
2. kv-42fcb070.jpg (1920x929)
3. kv-42fcb070.jpg.webp (1920x929)

记: 
 - bg-0: kv.jpg
 - bg-1: kv-42fcb070.jpg
 - bg-2: kv-42fcb070.jpg.webp

由于*bg-0*是模糊的，webp需要较新的设备，所以选择*bg-1*。

检查html，对象为: 
``` css
#root > div > div > div > div.index-root-3Xu-c > div > div > div.swiper-slide.index-pageItem-TRCSQ.swiper-slide-active > div
```

对象使用css设置了背景。设置背景的是`body.webp .index-firstScreenRoot-10LL-`样式，来自文件`page-main-8037589f.css`。

记: 
 - css-A: `page-main-8037589f.css`
 - css-A-frag-A: 
 ``` css
.index-firstScreenRoot-10LL- {
    position: relative;
    width: 100vw;
    height: 100%;
    top: 0;
    left: 0;
    background-size: cover;
    background-repeat: no-repeat;
    background-position: 50%
}

body.no-webp .index-firstScreenRoot-10LL- {
    background-image: url(../../assets/img/kv-42fcb070.jpg)
}

body.webp .index-firstScreenRoot-10LL- {
    background-image: url(../../assets/img/kv-42fcb070.jpg.webp)
}
 ```

*css-A* 的 实际链接地址是: <https://static-ssg-public-prod.seasungames.cn/-ref/a1dac/p/zt/2025/09/10/fab/250925112006/assets/css/page-main-8037589f.css>

搜索`page-main-8037589f.css`，在`<head>`中找到：
``` html
<link href="assets/css/page-main-8037589f.css" rel="prefetch">
```

记: 
 - prefetch-A: 如上。

直接使用cURL爬取*html-A*的内容，搜索关键字*css-A*，找到了*prefetch-A*。

那么现在就好办了。

## 解决方案

假设我的网页为`snow_launcher_downloader.html`，我需要设置我的网页和目标网页一样的背景。

### 第一阶段

我打算共用样式表，所以可能需要我的网页能爬取并获取那个*prefetch-A*，然后插入我的网页中，并暂时把原本的body中的内容添加一个半透明白色背景以增强可读性。

#### 步骤






